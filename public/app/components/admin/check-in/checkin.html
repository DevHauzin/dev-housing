<side-bar-nav></side-bar-nav>
<admin-mobile-side-bar-nav></admin-mobile-side-bar-nav>
<user-info></user-info>

<div class="main-wrapper">
<div class="checkin_create_block">
    <div class="checkin_create_block_header"><p>Create check-in</p></div>
    <div class="checkin_create_block_content white_background_color">
        <select ng-model="checkin.campus" />
            <option value="">Campus</option>
            <option value="Provo">Provo</option>
            <option value="SLC">SLC</option>
            <option value="Dallas">Dallas</option>
            </select>
            <p>Start time</p>
            <input type="datetime-local" name="name" ng-model="checkin.start" placeholder="Start time"></input>
            <br>
            <p>End time</p>
            <input type="datetime-local" name="name" ng-model="checkin.end" placeholder="End time"></input>
            <br>
            <p>Duration</p>
            <input type="number" name="name" ng-model="checkin.interval" placeholder="Minutes"></input>
            <br>
            <p>Cohort</p>
            <input ng-model="checkin.cohort" placeholder="Ex: DM-10"></input>
            <br>
            <button ng-if="checkin.campus" id="create_checkin" type="button" name="button" ng-click="createCheckin(checkin)">Create checkin timeslots</button>
        </div>
    </div>

    <div class="checkin_timeslots_container">
        <div class="checkin_timeslots_repeat white_background_color" ng-repeat="check in allCheckins">
            <div class="checkin_create_header"><span>{{check.checkinDay}}</span><i ng-click="deleteCheckins(check)" class="fa fa-times"></i></div>
            <p>{{check.checkinStart}}-{{check.checkinEnd}}</p>
            <p>Duration: {{check.slotInterval}} min</p>
            <p>Campus: {{check.campus}}</p>
            <p>Cohort: {{check.cohort}}</p>
            <br>
            <hr>
            <p>Appointments</p>
            <div class="checkin_timeslots" ng-repeat="slot in check.checkinAppointments">
                <span>{{slot.timeSlot}}</span>&nbsp;<span>{{slot.user.firstName}} {{slot.user.lastName}}&nbsp;{{slot.room}}-{{slot.unit}}</span>

                <div class="user_info_modal" ng-init="showUserModal=false">
                    <button class="user_info_button" ng-click="showUserModal = !showUserModal" hide-Modal="hideUserModal">User Info</button>
                    <div class="modal-fade-in checkin_create_block" aria-hidden="false" ng-show="showUserModal">
                        <div class="checkin_modal_header checkin_create_block_header">
                            <div class="checkin_modal_create_header checkin_create_header"><span>{{slot.user.firstName + " " + slot.user.lastName}}</span><i ng-click="editUser = !editUser;" class="fa fa-pencil"></i></div>
                        </div>
                        <div class="user_update_modal checkin_create_block_content">
                            <div class="user_edit_container" ng-hide="editUser">
                                <div class="check_user_edit_left user_edit_left">
                                    <p class="users_cards_text">
                                        <span class="bold">Basic info</span>
                                        <br> Name: {{slot.user.firstName}} {{slot.user.lastName}}
                                        <br> Age: {{slot.user.age}}
                                        <br> Gender: {{slot.user.gender}}
                                </div>
                                <div class="check_user_edit_right user_edit_right">
                                    <span class="bold">Housing</span>
                                    <br> Unit: {{slot.user.unit}}
                                    <br> Room: {{slot.user.room}}
                                    <br> Deposit Paid: {{slot.user.deposit.depositPaid}}
                                    <br> Contract: {{slot.user.contract}}
                                    <span class="bold">Vehicles</span>
                                    <br> Drivers License on File: {{slot.user.licenseOnFile}}
                                    <br> Vehicle: {{slot.user.car.make}} {{slot.user.car.model}} {{slot.user.car.year}} {{slot.user.car.license}}
                                    </p>
                                </div>
                            </div>

                            <div class="check_users_edit users_edit" ng-show="editUser">
                                <div class="check_user_edit_container user_edit_container">
                                    <div class="check_user_edit_left user_edit_left">
                                      <p>Deposit Paid&nbsp;&nbsp;</p>
                                      <input ng-model="slot.user.deposit.depositPaid" placeholder="date paid"></input>
                                      </br>
                                      <p>Contract signed&nbsp;&nbsp;</p>
                                      <input ng-model="slot.user.contract" placeholder="signed contract"></input>
                                      <br>
                                        <p>Checkin Date&nbsp;&nbsp;</p>
                                        <input ng-model="slot.user.checkInOut.checkInDate" placeholder="check in date"></input>
                                        </br>
                                        <p>Checkin Status&nbsp;&nbsp;</p>
                                        <input ng-model="slot.user.checkInOut.checkInStatus" placeholder="check in status"></input>
                                        </br>
                                    </div>
                                    <div class="check_user_edit_right user_edit_right">
                                        <p>Drivers License&nbsp;&nbsp;</p>
                                        <input ng-model="" placeholder="drivers license #"></input>
                                        <p>Vehicle Make&nbsp;&nbsp;</p>
                                        <input ng-model="slot.user.car.make" placeholder="vehicle make"></input>
                                        </br>
                                        <p>Vehicle Model&nbsp;&nbsp;</p>
                                        <input ng-model="slot.user.car.model" placeholder="vehicle model"></input>
                                        </br>
                                        <p>Vehicle Year&nbsp;&nbsp;</p>
                                        <input ng-model="slot.user.car.year" placeholder="vehicle year"></input>
                                        </br>
                                        <p>Vehicle Color&nbsp;&nbsp;</p>
                                        <input ng-model="slot.user.car.color" placeholder="vehicle color"></input>
                                        <br>
                                        <p>Vehicle License&nbsp;&nbsp;</p>
                                        <input ng-model="slot.user.car.license" placeholder="vehicle license"></input>
                                        <br>
                                        <button ng-click="updateUser(slot.user)">Submit Changes</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <br>
                            <button type="button" class="modal-close-button" ng-click="showUserModal=false">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
<!--main-wrapper closing div -->
